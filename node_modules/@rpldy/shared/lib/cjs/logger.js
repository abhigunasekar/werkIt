"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.debugLog = exports.setDebug = exports.isDebugOn = void 0;

var _consts = require("./consts");

var _hasWindow = _interopRequireDefault(require("./utils/hasWindow"));

var _utils = require("./utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var isDebug;

var isEnvDebug = function () {
  var _process, _process$env;

  return !(0, _utils.isProduction)() && ((_process = process) === null || _process === void 0 ? void 0 : (_process$env = _process.env) === null || _process$env === void 0 ? void 0 : _process$env.DEBUG);
};

var isDebugOn = function () {
  if (typeof isDebug !== "boolean") {
    isDebug = isEnvDebug() || (0, _hasWindow["default"])() && ("location" in window && !!~window.location.search.indexOf("rpldy_debug=true") || window[_consts.DEBUG_LOG_KEY] === true);
  }

  return isDebug;
};

exports.isDebugOn = isDebugOn;

var setDebug = function (debugOn) {
  if ((0, _hasWindow["default"])()) {
    window[_consts.DEBUG_LOG_KEY] = debugOn;
  }

  isDebug = debugOn ? true : null;
};

exports.setDebug = setDebug;

var debugLog = function () {
  if (isDebugOn()) {
    var _console;

    // eslint-disable-next-line no-console
    (_console = console).log.apply(_console, arguments);
  }
};

exports.debugLog = debugLog;